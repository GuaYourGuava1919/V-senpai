import{r as w,g as v,u as x,s as h,c as k,b as t,w as o,d as s,o as V,E as b,e as d,f as i,a as n,h as m,i as E,j as I,k as F,l as S,m as c}from"./index-CW2LFP52.js";const j={style:{display:"flex","justify-content":"center","align-items":"center",height:"100vh"}},C={class:"",style:{display:"flex","justify-content":"center","align-items":"center","flex-direction":"column"}},A={style:{display:"flex","justify-content":"center","align-items":"center","margin-top":"10px"}},N={__name:"SignInView",setup(T){const l=w({email:"",pwd:""}),p=v(),f=I(),g=x();h(g);const y=()=>{F(p,l.value.email,l.value.pwd).then(async a=>{const e=a.user,r=await e.getIdToken();console.log("Login success"),localStorage.setItem("token",r),localStorage.setItem("uid",e.uid),f.push("/")}).catch(a=>{console.error(a.message),S.error("登入失敗："+a.message)})};return(a,e)=>{const r=c("el-button"),_=c("router-link");return V(),k("div",j,[t(s(E),{style:{"max-width":"550px","background-color":"#6C63FF"},shadow:"always"},{default:o(()=>[t(s(b),{model:l.value,"label-width":"auto",style:{margin:"20px"}},{default:o(()=>[t(s(d),{label:"電子郵件",required:""},{default:o(()=>[t(s(i),{modelValue:l.value.email,"onUpdate:modelValue":e[0]||(e[0]=u=>l.value.email=u)},null,8,["modelValue"])]),_:1}),t(s(d),{label:"密碼",required:""},{default:o(()=>[t(s(i),{modelValue:l.value.pwd,"onUpdate:modelValue":e[1]||(e[1]=u=>l.value.pwd=u),type:"password"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),n("div",C,[n("div",{class:"",style:{display:"flex","justify-content":"center"},onClick:y},[t(r,{round:"",style:{"background-color":"#FFA726",color:"white"}},{default:o(()=>e[2]||(e[2]=[m("登入")])),_:1})]),n("div",A,[e[4]||(e[4]=n("p",null,"還沒有帳號？",-1)),t(_,{to:"/register"},{default:o(()=>e[3]||(e[3]=[m("註冊")])),_:1})])])]),_:1})])}}};export{N as default};
